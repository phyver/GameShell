#!/bin/sh

# draw a parchment around a text file
# usage:
#   $ parchment             => acts as a filter and adds a random parchment
#   $ parchment FILE        => adds a random parchment
#   $ parchment FILE DESIGN => adds the given parchment

GSH_ROOT=$(cd "$(dirname "$0")/.." && pwd -P)
PATH=$PATH:$GSH_ROOT/bin

file=$1
[ -n "$file" ] && [ ! -e "$file" ] && return 1

P=$2
if [ -z "$P" ]
then
  n=$(RANDOM)
  P=$((n%9))
fi

case "$P" in
  0) P="Parchment1";;
  1) P="Parchment2";;
  2) P="Parchment3";;
  3) P="Parchment4";;
  4) P="Parchment5";;
  5) P="Parchment6";;
  6) P="Parchment7";;
  7) P="Parchment8";;
  8) P="Parchment9";;
esac
echo
$GSH_ROOT/bin/box.sh -b "$P" "$file"
echo

